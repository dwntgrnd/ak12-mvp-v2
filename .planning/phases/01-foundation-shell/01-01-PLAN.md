---
phase: 01-foundation-shell
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - tsconfig.json
  - next.config.ts
  - tailwind.config.ts
  - postcss.config.mjs
  - src/app/globals.css
  - src/app/layout.tsx
  - src/app/page.tsx
  - src/lib/design-tokens.ts
  - src/lib/utils.ts
  - components.json
autonomous: true

must_haves:
  truths:
    - "Next.js 15 dev server starts without errors on localhost:3000"
    - "TypeScript compiles in strict mode with zero errors"
    - "Tailwind CSS v4 processes design tokens from CSS custom properties"
    - "Brand colors (navy, cyan, green, gold, red) are available as Tailwind utilities"
    - "Manrope and Inter fonts load via next/font/google"
  artifacts:
    - path: "package.json"
      provides: "Project dependencies and scripts"
      contains: "next"
    - path: "tsconfig.json"
      provides: "TypeScript strict mode configuration"
      contains: "strict"
    - path: "tailwind.config.ts"
      provides: "Design token integration with Tailwind"
      contains: "fontFamily"
    - path: "src/app/globals.css"
      provides: "CSS custom properties for all semantic tokens"
      contains: "--primary"
    - path: "src/lib/design-tokens.ts"
      provides: "Typed brand palette and fit category colors"
      exports: ["brandColors", "fitCategoryColors"]
    - path: "src/app/layout.tsx"
      provides: "Root layout with font loading"
      contains: "Manrope"
  key_links:
    - from: "src/app/globals.css"
      to: "tailwind.config.ts"
      via: "CSS custom properties consumed by Tailwind theme"
      pattern: "--primary.*03C4D4"
    - from: "src/lib/design-tokens.ts"
      to: "src/app/globals.css"
      via: "Token values match CSS variable definitions"
      pattern: "brandColors"
    - from: "src/app/layout.tsx"
      to: "next/font/google"
      via: "Font imports applied to body className"
      pattern: "Manrope|Inter"
---

<objective>
Scaffold a greenfield Next.js 15 project with TypeScript strict mode, Tailwind CSS v4, and shadcn/ui. Configure the complete design token system with brand colors, semantic tokens, typography, and fit category colors.

Purpose: Establish the project foundation that all subsequent plans build upon -- build tools, type safety, and visual design language.
Output: Running Next.js dev server with design tokens applied via CSS custom properties and Tailwind config.
</objective>

<execution_context>
@/Users/dorenberge/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dorenberge/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

Reference (read-only, for design specs):
@/Users/dorenberge/WorkInProgress/UI-Projects-Vault/Projects/AK12-MVP-v2/CC-Handoffs/Phase-1_Foundation-App-Shell.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Next.js 15 project with tooling</name>
  <files>
    package.json
    tsconfig.json
    next.config.ts
    postcss.config.mjs
    src/app/layout.tsx
    src/app/page.tsx
    src/lib/utils.ts
    components.json
    .eslintrc.json
    .prettierrc
  </files>
  <action>
    Initialize Next.js 15 project in the current directory (which is empty except for .git, .claude, .planning):

    1. Run `npx create-next-app@latest . --typescript --tailwind --eslint --app --src-dir --import-alias "@/*"` with default answers (use --yes or pipe yes to accept defaults).

    2. Verify tsconfig.json has `"strict": true`. If not, add it.

    3. Add path alias `@/` mapping to `src/` in tsconfig.json paths: `"@/*": ["./src/*"]`.

    4. Initialize shadcn/ui: `npx shadcn@latest init` with defaults (New York style, zinc base color -- these will be overridden by our design tokens). Accept defaults non-interactively.

    5. Add Prettier: `npm install --save-dev prettier eslint-config-prettier`. Create `.prettierrc` with: `{ "semi": true, "singleQuote": true, "trailingComma": "es5", "tabWidth": 2, "printWidth": 100 }`.

    6. Create the directory structure (empty directories for now):
       ```
       mkdir -p src/components/ui
       mkdir -p src/components/shared
       mkdir -p src/components/layout
       mkdir -p src/lib/utils
       mkdir -p src/lib/constants
       mkdir -p src/services/types
       mkdir -p src/services/interfaces
       mkdir -p src/services/providers/local
       mkdir -p src/services/providers/api
       mkdir -p src/app/(auth)
       mkdir -p src/app/(dashboard)/discovery
       mkdir -p src/app/(dashboard)/districts/[districtId]
       mkdir -p src/app/(dashboard)/solutions
       mkdir -p src/app/(dashboard)/saved
       mkdir -p src/app/(dashboard)/playbooks/[playbookId]
       mkdir -p src/app/(dashboard)/admin
       mkdir -p src/app/api/health
       ```

    7. Update `src/app/page.tsx` to redirect to /discovery:
       ```tsx
       import { redirect } from 'next/navigation';
       export default function Home() {
         redirect('/discovery');
       }
       ```

    8. Verify `npm run dev` starts successfully, then stop the server.
    9. Verify `npx tsc --noEmit` passes with zero errors.
  </action>
  <verify>
    - `npm run dev` starts without errors (run briefly, then Ctrl+C)
    - `npx tsc --noEmit` returns exit code 0
    - `ls src/services/types` confirms directory exists
    - `ls src/app/(dashboard)/discovery` confirms directory exists
    - `cat tsconfig.json` shows `"strict": true`
  </verify>
  <done>
    Next.js 15 project runs locally with TypeScript strict mode, Tailwind CSS v4, shadcn/ui initialized, path aliases configured, and full directory structure created.
  </done>
</task>

<task type="auto">
  <name>Task 2: Configure design token system with brand colors and typography</name>
  <files>
    src/app/globals.css
    tailwind.config.ts
    src/lib/design-tokens.ts
    src/app/layout.tsx
  </files>
  <action>
    Implement the complete design token system from the Phase 1 handoff spec.

    1. **Create `src/lib/design-tokens.ts`** exporting the typed token definitions:

       ```typescript
       // Brand primitive palette
       export const brandColors = {
         white: '#FFFFFF',
         black: '#000000',
         brand: {
           wht: '#F4F5F5',
           blk: '#172642',
           blue: '#03C4D4',
           green: '#00DE9C',
           gold: '#FFC205',
           orange: '#FF7000',
           red: '#FA2E57',
           purple: '#BF47DE',
         },
         slate: {
           50: '#F8FAFC', 100: '#F1F5F9', 200: '#E2E8F0', 300: '#CBD5E1',
           400: '#94A3B8', 500: '#64748B', 600: '#475569', 700: '#334155',
           800: '#1E293B', 900: '#0F172A', 950: '#020617',
         },
       } as const;

       // Fit category semantic colors
       export const fitCategoryColors = {
         strong: { bg: 'bg-success/10', text: 'text-success', border: 'border-success', label: 'Strong Fit' },
         moderate: { bg: 'bg-warning/10', text: 'text-warning', border: 'border-warning', label: 'Moderate Fit' },
         low: { bg: 'bg-destructive/10', text: 'text-destructive', border: 'border-destructive', label: 'Low Fit' },
       } as const;

       export type FitCategoryKey = keyof typeof fitCategoryColors;
       ```

    2. **Update `src/app/globals.css`** to define CSS custom properties in `:root`:

       All semantic tokens as HSL values (shadcn/ui convention):
       - `--background: 0 0% 100%` (white)
       - `--foreground: 213 47% 17%` (#172642 brand.blk)
       - `--card: 0 0% 100%` / `--card-foreground: 213 47% 17%`
       - `--popover: 0 0% 100%` / `--popover-foreground: 213 47% 17%`
       - `--primary: 184 97% 42%` (#03C4D4 brand.blue)
       - `--primary-foreground: 0 0% 100%`
       - `--secondary: 210 40% 96%` (slate-100)
       - `--secondary-foreground: 213 47% 17%`
       - `--muted: 210 40% 96%` (slate-100)
       - `--muted-foreground: 215 16% 47%` (slate-500)
       - `--accent: 210 40% 96%` (slate-100)
       - `--accent-foreground: 213 47% 17%`
       - `--destructive: 347 95% 55%` (#FA2E57 brand.red)
       - `--destructive-foreground: 0 0% 100%`
       - `--success: 160 100% 44%` (#00DE9C brand.green)
       - `--success-foreground: 0 0% 100%`
       - `--warning: 45 100% 51%` (#FFC205 brand.gold)
       - `--warning-foreground: 213 47% 17%`
       - `--border: 214 32% 91%` (slate-200)
       - `--input: 214 32% 91%` (slate-200)
       - `--ring: 184 97% 42%` (brand.blue)
       - `--radius: 0.5rem`

       Also add sidebar-specific tokens:
       - `--sidebar-bg: 213 47% 17%` (brand.blk)
       - `--sidebar-fg: 180 3% 95%` (brand.wht)
       - `--sidebar-hover: 217 33% 27%` (slate-700)
       - `--sidebar-active: 184 97% 42%` (brand.blue)

       Keep `@tailwind base; @tailwind components; @tailwind utilities;` directives. Remove any default shadcn dark mode section (we are not implementing dark mode).

    3. **Update `tailwind.config.ts`** to extend theme with:
       - Custom colors referencing CSS variables: `success`, `warning` (shadcn already handles primary, secondary, destructive, muted, accent)
       - Sidebar color references: `sidebar: { DEFAULT: 'hsl(var(--sidebar-bg))', foreground: 'hsl(var(--sidebar-fg))', ... }`
       - fontFamily: `heading: ['var(--font-manrope)', 'sans-serif']` and `body: ['var(--font-inter)', 'sans-serif']`

    4. **Update `src/app/layout.tsx`** to:
       - Import Manrope and Inter from `next/font/google`
       - Apply Manrope as `--font-manrope` CSS variable and Inter as `--font-inter` CSS variable
       - Set body className to use Inter as default body font
       - Set html lang="en"
       - Use metadata export with title "AlchemyK12" and description "K-12 EdTech Sales Intelligence Platform"

    Important: ALL hex values live in globals.css CSS variables. Components NEVER use hardcoded hex -- only Tailwind classes that reference the CSS variables (e.g., `bg-primary`, `text-sidebar-foreground`).
  </action>
  <verify>
    - `npx tsc --noEmit` returns exit code 0
    - `grep "03C4D4" src/app/globals.css` finds no match (values should be in HSL, not hex -- though exact HSL conversion may vary slightly, the key is no raw hex in the CSS)
    - `grep "brandColors" src/lib/design-tokens.ts` confirms export exists
    - `grep "fitCategoryColors" src/lib/design-tokens.ts` confirms export exists
    - `grep "Manrope" src/app/layout.tsx` confirms font import
    - `grep "success" tailwind.config.ts` confirms custom color extension
    - `npm run dev` starts without errors
  </verify>
  <done>
    Design token system is complete: CSS custom properties define all semantic tokens, Tailwind config extends theme with brand colors and typography, design-tokens.ts exports typed constants. No hardcoded hex values in any component.
  </done>
</task>

</tasks>

<verification>
1. `npm run dev` starts the dev server on localhost:3000 without errors
2. `npx tsc --noEmit` compiles with zero TypeScript errors
3. All brand colors available as CSS custom properties in globals.css
4. Tailwind config references CSS variables (not hardcoded values)
5. Both Manrope and Inter fonts configured via next/font/google
6. Root page (/) exists (redirect to /discovery will work once dashboard routes exist in Plan 03)
</verification>

<success_criteria>
- Next.js 15 dev server runs locally with TypeScript strict mode
- Tailwind CSS v4 configured with full design token system
- shadcn/ui initialized and integrated with brand tokens
- Both heading (Manrope) and body (Inter) fonts load correctly
- fitCategoryColors and brandColors exported as typed constants
- Full directory structure created for all future phases
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-shell/01-01-SUMMARY.md`
</output>
