---
phase: 01-foundation-shell
plan: 03
type: execute
wave: 2
depends_on: [01]
files_modified:
  - src/components/layout/sidebar.tsx
  - src/components/layout/sidebar-nav-item.tsx
  - src/app/(dashboard)/layout.tsx
  - src/app/(dashboard)/discovery/page.tsx
  - src/app/(dashboard)/districts/[districtId]/page.tsx
  - src/app/(dashboard)/solutions/page.tsx
  - src/app/(dashboard)/saved/page.tsx
  - src/app/(dashboard)/playbooks/page.tsx
  - src/app/(dashboard)/playbooks/[playbookId]/page.tsx
  - src/app/(dashboard)/admin/page.tsx
  - src/app/(auth)/layout.tsx
  - src/app/(auth)/login/page.tsx
  - src/app/api/health/route.ts
autonomous: true

must_haves:
  truths:
    - "Sidebar navigation renders with 5 nav items (Discovery, Saved Districts, Solutions Library, Playbooks, Admin)"
    - "Clicking each nav item navigates to the correct route"
    - "Each route displays a placeholder page with title and description"
    - "Sidebar uses brand.blk (#172642) background with brand.wht (#F4F5F5) text"
    - "Active nav item is visually highlighted with brand.blue accent"
    - "Mock user info displays at the bottom of the sidebar"
    - "Health check endpoint responds at /api/health with status ok"
    - "Root page (/) redirects to /discovery"
  artifacts:
    - path: "src/components/layout/sidebar.tsx"
      provides: "Main sidebar component with navigation and user context"
      contains: "mockUser"
    - path: "src/app/(dashboard)/layout.tsx"
      provides: "Dashboard layout with sidebar + content area"
      contains: "Sidebar"
    - path: "src/app/(dashboard)/discovery/page.tsx"
      provides: "Discovery placeholder page"
      contains: "Discovery"
    - path: "src/app/(dashboard)/saved/page.tsx"
      provides: "Saved districts placeholder page"
      contains: "Saved"
    - path: "src/app/(dashboard)/solutions/page.tsx"
      provides: "Solutions library placeholder page"
      contains: "Solutions"
    - path: "src/app/(dashboard)/playbooks/page.tsx"
      provides: "Playbooks list placeholder page"
      contains: "Playbook"
    - path: "src/app/(dashboard)/admin/page.tsx"
      provides: "Admin placeholder page"
      contains: "Admin"
    - path: "src/app/api/health/route.ts"
      provides: "Health check API endpoint"
      exports: ["GET"]
  key_links:
    - from: "src/components/layout/sidebar.tsx"
      to: "src/app/(dashboard)/*/page.tsx"
      via: "Next.js Link href matching route paths"
      pattern: "href.*/(discovery|saved|solutions|playbooks|admin)"
    - from: "src/app/(dashboard)/layout.tsx"
      to: "src/components/layout/sidebar.tsx"
      via: "Sidebar import and rendering"
      pattern: "import.*Sidebar"
    - from: "src/components/layout/sidebar.tsx"
      to: "src/app/globals.css"
      via: "Tailwind classes consuming CSS custom properties"
      pattern: "bg-sidebar|text-sidebar"
---

<objective>
Build the app shell with persistent sidebar navigation, all placeholder pages for dashboard routes, auth login placeholder, and the health check API endpoint.

Purpose: Create the navigable application structure that users see and navigate. All routes are wired, all pages load, and the visual brand is applied to the sidebar.
Output: Working app shell with sidebar, 7 placeholder pages, auth route, and health check endpoint.
</objective>

<execution_context>
@/Users/dorenberge/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dorenberge/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-shell/01-01-SUMMARY.md

Reference (read-only, for sidebar and page specs):
@/Users/dorenberge/WorkInProgress/UI-Projects-Vault/Projects/AK12-MVP-v2/CC-Handoffs/Phase-1_Foundation-App-Shell.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Build sidebar navigation and dashboard layout</name>
  <files>
    src/components/layout/sidebar.tsx
    src/components/layout/sidebar-nav-item.tsx
    src/app/(dashboard)/layout.tsx
  </files>
  <action>
    Build the sidebar navigation component and dashboard layout.

    1. **`src/components/layout/sidebar-nav-item.tsx`** — Individual nav item component:
       - Props: `{ href: string; icon: React.ElementType; label: string; isActive: boolean }`
       - Renders as a Next.js `Link` component
       - Uses `"use client"` directive (needs `usePathname`)
       - Active state: left border accent with brand.blue (use `border-l-2 border-sidebar-active` or equivalent), slightly lighter background
       - Hover state: `bg-sidebar-hover` (slate-700 equivalent from CSS variables)
       - Text: `text-sidebar-foreground` (brand.wht)
       - Icon: 20px, same color as text, slight opacity when inactive
       - Padding: `px-4 py-2.5` for comfortable click targets

    2. **`src/components/layout/sidebar.tsx`** — Main sidebar component:
       - Width: `w-64` (256px) fixed
       - Background: `bg-[hsl(var(--sidebar-bg))]` or equivalent CSS variable reference
       - Height: full viewport `h-screen`, `sticky top-0`
       - Flex column layout: logo/brand at top, nav items in middle (flex-1), user context at bottom

       **Logo area (top):**
       - Brand name "AlchemyK12" in Manrope (heading font), white, text-lg or text-xl
       - Subtle divider below (border-b with low opacity white)

       **Nav section (middle):**
       - Top group (main features):
         1. Discovery -> `/discovery` — use `Search` icon from lucide-react
         2. Saved Districts -> `/saved` — use `Bookmark` icon
         3. Solutions Library -> `/solutions` — use `Package` icon
         4. Playbooks -> `/playbooks` — use `FileText` icon
       - Visual separator (thin line or spacing)
       - Bottom group (admin):
         5. Admin -> `/admin` — use `Shield` icon — conditionally rendered based on mockUser.userRole (show for publisher-admin and super-admin)

       **Active detection:**
       - Use `"use client"` and `usePathname()` from `next/navigation`
       - Active when `pathname.startsWith(item.href)` (or exact match for /discovery)
       - Exception: `/districts/[id]` should not highlight any nav item (or optionally Discovery)

       **User context (bottom):**
       - Hardcoded mock user object:
         ```ts
         const mockUser = {
           displayName: 'Sarah Chen',
           organizationName: 'EduVision Publishing',
           userRole: 'publisher-admin' as const,
         };
         ```
       - Display name (white, font-medium)
       - Organization name (muted, smaller text)
       - Role badge (tiny pill/chip, muted background, capitalize role)
       - Separated from nav by auto margin or flex spacer

    3. **`src/app/(dashboard)/layout.tsx`** — Dashboard layout:
       - Server component (no "use client" needed on the layout itself)
       - Flex row layout: `<Sidebar />` on left, main content area fills remaining width
       - Main content: `flex-1 overflow-auto` with `p-6` padding
       - `{children}` rendered in the main content area
       - Minimum height: `min-h-screen`

    Use ONLY Tailwind classes that reference CSS custom properties. No hardcoded hex values. All colors come from the design token system configured in Plan 01.
  </action>
  <verify>
    - `npx tsc --noEmit` returns exit code 0
    - `grep "usePathname" src/components/layout/sidebar.tsx` confirms client-side routing
    - `grep "mockUser" src/components/layout/sidebar.tsx` confirms mock user data
    - `grep "Sidebar" src/app/\\(dashboard\\)/layout.tsx` confirms sidebar import
    - No hardcoded hex values: `grep -r "#[0-9A-Fa-f]" src/components/layout/` returns no matches
  </verify>
  <done>
    Sidebar renders with 5 nav items (4 main + 1 admin), active state highlighting, mock user context, and dashboard layout with fixed sidebar + scrollable content area.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create all placeholder pages and health check endpoint</name>
  <files>
    src/app/(dashboard)/discovery/page.tsx
    src/app/(dashboard)/districts/[districtId]/page.tsx
    src/app/(dashboard)/solutions/page.tsx
    src/app/(dashboard)/saved/page.tsx
    src/app/(dashboard)/playbooks/page.tsx
    src/app/(dashboard)/playbooks/[playbookId]/page.tsx
    src/app/(dashboard)/admin/page.tsx
    src/app/(auth)/layout.tsx
    src/app/(auth)/login/page.tsx
    src/app/api/health/route.ts
  </files>
  <action>
    Create placeholder pages for every route and the health check endpoint.

    1. **Dashboard placeholder pages** — Each page is a server component displaying:
       - Page title (h1, `text-2xl font-semibold font-heading`)
       - Brief description (`text-muted-foreground mt-2`)
       - Content in a div with `p-6`

       Create these pages:

       **`src/app/(dashboard)/discovery/page.tsx`:**
       - Title: "Discovery & Targeting"
       - Description: "Search California districts and build your territory."

       **`src/app/(dashboard)/districts/[districtId]/page.tsx`:**
       - Title: "District Profile"
       - Description: "Detailed district information with demographics, proficiency, and funding data."
       - Show the districtId from params: `District ID: {districtId}` (useful for verifying dynamic routing works)

       **`src/app/(dashboard)/solutions/page.tsx`:**
       - Title: "Solutions Library"
       - Description: "Manage your product catalog with filtering by grade range and subject area."

       **`src/app/(dashboard)/saved/page.tsx`:**
       - Title: "Saved Districts"
       - Description: "Your bookmarked districts for territory building."

       **`src/app/(dashboard)/playbooks/page.tsx`:**
       - Title: "Playbooks"
       - Description: "AI-generated district-specific playbooks for informed outreach."

       **`src/app/(dashboard)/playbooks/[playbookId]/page.tsx`:**
       - Title: "Playbook Detail"
       - Description: "View and edit your district playbook."
       - Show playbookId from params

       **`src/app/(dashboard)/admin/page.tsx`:**
       - Title: "Admin"
       - Description: "User management and organization settings."

    2. **Auth route group:**

       **`src/app/(auth)/layout.tsx`:**
       - Simple centered layout (no sidebar)
       - Flex column, centered both axes, min-h-screen
       - Brand name at top
       - {children} in the center

       **`src/app/(auth)/login/page.tsx`:**
       - Title: "Sign In"
       - Description: "Sign in to AlchemyK12. Authentication will be added in Phase 2."
       - Placeholder card with "Coming in Phase 2" note

    3. **Health check endpoint:**

       **`src/app/api/health/route.ts`:**
       - Export a `GET` handler (Next.js Route Handler)
       - Returns JSON: `{ status: 'ok', timestamp: new Date().toISOString(), version: '0.1.0' }`
       - Status code: 200
       - Content-Type: application/json
       - This is a simple endpoint now. In Phase 2, it will be extended to check database connectivity.

    All pages use Tailwind classes from the design token system. Use `font-heading` class for h1 titles (Manrope font). Use `text-muted-foreground` for descriptions.
  </action>
  <verify>
    - `npx tsc --noEmit` returns exit code 0
    - `npm run dev` starts and all routes load:
      - `/discovery` shows "Discovery & Targeting"
      - `/saved` shows "Saved Districts"
      - `/solutions` shows "Solutions Library"
      - `/playbooks` shows "Playbooks"
      - `/admin` shows "Admin"
      - `/districts/test-123` shows "District Profile" with ID
      - `/login` shows "Sign In"
    - `curl http://localhost:3000/api/health` returns `{"status":"ok","timestamp":"...","version":"0.1.0"}`
    - `grep "GET" src/app/api/health/route.ts` confirms route handler export
  </verify>
  <done>
    All 7 dashboard placeholder pages render with titles and descriptions, auth login placeholder exists, and health check endpoint responds at /api/health with JSON status. Root (/) redirects to /discovery. All sidebar nav items navigate to correct pages.
  </done>
</task>

</tasks>

<verification>
1. `npm run dev` starts without errors
2. Navigating to localhost:3000 redirects to /discovery
3. Sidebar renders with all 5 navigation items on dark navy background
4. Clicking each nav item loads the correct placeholder page
5. Active nav item shows brand.blue accent
6. Mock user info (Sarah Chen, EduVision Publishing, publisher-admin) visible at sidebar bottom
7. `curl localhost:3000/api/health` returns JSON with status "ok"
8. `/login` route renders auth placeholder (no sidebar)
9. `/districts/test-123` renders with dynamic districtId
10. `npx tsc --noEmit` passes with zero errors
</verification>

<success_criteria>
- Sidebar navigation with 5 items renders correctly with brand colors
- All planned routes are navigable with placeholder content
- Active route is highlighted in the sidebar
- Dashboard layout: fixed sidebar + scrollable content area
- Health check endpoint responds with JSON status
- Auth route group uses centered layout (no sidebar)
- TypeScript compiles without errors
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-shell/01-03-SUMMARY.md`
</output>
